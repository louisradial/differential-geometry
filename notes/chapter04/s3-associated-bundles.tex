\section{Associated bundles}

\begin{definition}{Associated bundle}{}
    Let \bundle{P}{\pi}{M} be a principal \(G\)-bundle with right \(G\)-action \(\ract : P \times G \to P\) and let \(\lact : G \times F \to F\) be a left \(G\)-action on a smooth manifold \(F\). The \emph{associated bundle} \bundle{P_F}{\pi_F}{M} is defined by
    \begin{enumerate}[label=(\alph*)]
        \item the total space \(P_F = (P \times F) / \sim_G\), where \(\sim_G\) is the relation on \(P \times F\) defined by \((p, f) \sim_G (p', f') \iff \exists g \in G : p' = p \ract g \land f' = g^{-1} \lact f\), and elements of \(P_F\) are denoted by \([p,f],\) where \(p \in P\) and \(f \in F\); and
        \item the projection map
            \begin{align*}
                \pi_F : P_F &\to M\\
                      [p,f] &\mapsto \pi(p).
            \end{align*}
    \end{enumerate}
\end{definition}
\begin{remark}
    The projection map is well defined. Indeed, if \((p', f') \sim_G (p, f)\), then there exists \(g\in G\) such that \(p' = p \ract g\) and \(f' = g^{-1} \lact f\). We have
    \begin{align*}
        \pi_F([p', f']) &= \pi(p')\\
                        &= \pi(p \ract g)\\
                        &= \pi(p),
    \end{align*}
    as claimed.
\end{remark}

\begin{proposition}{Associated bundles are fiber bundles}{associated_fiber}
    The associated bundle \bundle{P_F}{\pi_F}{M} is a fiber bundle with typical fiber \(F\).
\end{proposition}
\begin{proof}
    Let \(m \in M\) be a base point and consider its fiber
    \begin{equation*}
        U_m = \preim{\pi_F}{\set{m}} = \set{[p,f] \in P_F : \pi(p) = m}.
    \end{equation*}
    Choose \(p_m \in P\) such that \(\pi(p_m) = m\). Then, for any \(f \in F\), we have \(\pi_F([p_m, f]) = m\). We define the map
    \begin{align*}
        \phi_m : F &\to U_m\\
                 f &\mapsto [p_m,f],
    \end{align*}
    which is continuous since it is the composition of the inclusion \(f \mapsto (p_m, f) \in \set{p_m} \times F\) and the quotient map \((p,f) \mapsto [p,f]\). \todo[Verify this. I don't know topology, man.]

    Let \(f_1, f_2 \in F\) such that \(\phi_m(f_1) = \phi_m(f_2)\), then there exists \(g \in G\) such that \(p_m = p_m \ract g\) and \(f_2 = g^{-1} \lact f_1\). Since \(\ract\) is free, we have \(g = e\), hence \(f_1 = f_2\).

    Let \([p, f] \in U_m\). Since \(P\) is a right \(G\)-space, there exists a diffeomorphism \(\psi_{p_m} : P \to G\) such that \(p' \ract \psi_{p_m}(p') = p_m\) for all \(p' \in P\) as shown in \cref{thm:orbit_free}. With this diffeomorphism, we have \([p,f] = [p_m, (\psi_{p_m}(p))^{-1} \lact f].\) Thus, \(\phi_m((\psi_{p_m}(p))^{-1} \lact f) = [p,f],\) that is, the map is surjective.

    We have shown the map \(\phi_m\) is a continuous bijection with inverse
    \begin{align*}
        \phi_m^{-1} : U_m &\to F\\
                    [p,f] &\mapsto (\psi_{p_m}(p))^{-1} \lact f,
    \end{align*}
    which is continuous since \(\psi_{p_m}\) and \(\lact\) are smooth maps. Therefore, every fiber of the associated bundle is homeomorphic to \(F.\)
\end{proof}

\begin{example}
    \begin{enumerate}[label=(\alph*)]
        \item We formalize the notion that \enquote{a vector is an object that transforms like a vector}.

            Let \(M\) be an \(n\)-dimensional smooth manifold. Recall the right \(\mathrm{GL}(\mathbb{R}^n)\)-action on the frame bundle \bundle{LM}{\pi}{M} defined by
            \begin{align*}
                \ract : \mathrm{GL}(\mathbb{R}^n) \times LM &\to LM\\
                \left((e_1, \dots, e_n), g\right) &\mapsto \left(g\indices{^m_1}e_m, \dots, g\indices{^m_n}e_m\right).
            \end{align*}
            Take \(F = \mathbb{R}^n\) with left action
            \begin{align*}
                \lact : \mathrm{GL}(\mathbb{R}^n) \times F &\to F\\
                                                     (f,g) &\mapsto g \lact f,
            \end{align*}
            where \((g\lact f)^a = g\indices{^a_b}f^b\). Then, \bundle{LM_{F}}{\pi_{F}}{M} is the associated bundle. In fact, this associated bundle is isomorphic to the usual tangent bundle provided by the bundle isomorphism \((u, \id{M})\), where
            \begin{align*}
                u : LM_F &\to TM\\
                   [e,f] &\mapsto f^ae_a.
            \end{align*}
            To show well-definition of this map, we consider \(e,e' \in LM\) and \(f,f' \in F\) such that \([e, f]= [e', f']\). Then, there exists \(g \in \mathrm{GL}(\mathbb{R}^n)\) such that \(e' = e \ract g\) and \(f' = g^{-1} \lact f\) and we have
            \begin{align*}
                u([e', f']) &= f'^ae'_a\\
                            &= (g^{-1})\indices{^i_j}f^j g\indices{^k_i}e_k\\
                            &= \delta^k_j f^j e_k\\
                            &= f^k e_k\\
                            &= u([e,f]),
            \end{align*}
            as claimed.

            Moreover, the map \(u\) is invertible since for any \(X \in TM\) we can choose a frame \(e\) such that \(X = f^a e_a,\) and we have \(u^{-1}(X) = [e, f]\), which is independent of the chosen frame \(e\), due to the equivalence class.

            \begin{equation*}
                \begin{tikzcd}[column sep = normal, row sep = large]
                    LM_{\pi_{\mathrm{GL}(\mathbb{R}^n)}} \arrow{r}{u} \arrow{d}{\pi_{\mathrm{GL}(\mathbb{R}^n)}} & TM \arrow{d}{\pi_{TM}}\\
                    M \arrow{r}{\id{M}} & M
                \end{tikzcd}
            \end{equation*}

            We note while on the tangent bundle the transformation rule of vector components was deduced with linear algebra, on the associated bundle the transformation rule was arbitrary. In the tangent bundle, there is no auxiliary group structure to express this change of basis behavior, unlike to the associated bundle, where one may restrict the chosen group to a subgroup of \(\mathrm{GL}(\mathbb{R}^n)\), such as Lorentz transformations in General Relativity, where one would then refer to as a vector or tensor with respect to a certain group.
        \item We now take \(F = \left(\mathbb{R}^n\right)^{\otimes p} \otimes \left({\mathbb{R}^n}^{\ast}\right)^{\otimes q}\) and define a left action
            \begin{align*}
                \lact : \mathrm{GL}(\mathbb{R}^n) \times F &\to F\\
                                                     (g,f) &\mapsto g \lact f,
            \end{align*}
            where \((g \lact f)\indices{^{i_1\dots i_p}_{j_1\dots j_p}} = (g^{-1})\indices{^{b_1}_{j_1}}\dotsm (g^{-1})\indices{^{b_q}_{j_q}} g\indices{^{i_1}_{a_1}} \dotsm g\indices{^{i_p}_{a_p}}f\indices{^{a_1\dots a_p}_{b_1\dots b_q}}\). The associated bundle \bundle{LM_F}{\pi_F}{M} is isomorphic to the \((p,q)\)-tensor bundle.
        \item We modify the left action of the previous example and state it as a definition.
    \end{enumerate}
\end{example}

\begin{definition}{Tensor densities}{tensor_densities}
    Let \(M\) be an \(n\)-dimensional smooth manifold and let the principal \(\mathrm{GL}(\mathbb{R}^n)\)-bundle \bundle{LM}{\pi}{M} be its frame bundle. Let \(F = \left(\mathbb{R}^n\right)^{\otimes p} \otimes \left({\mathbb{R}^n}^{\ast}\right)^{\otimes q}\) be a left \(\mathrm{GL}(\mathbb{R}^n)\) space with action defined by
    \begin{align*}
        \lact : \mathrm{GL}(\mathbb{R}^n) \times F &\to F\\
                                             (g,f) &\mapsto g \lact f,
    \end{align*}
    where \((g \lact f)\indices{^{i_1\dots i_p}_{j_1\dots j_p}} = \left(\det{g^{-1}}\right)^\omega(g^{-1})\indices{^{b_1}_{j_1}}\dotsm (g^{-1})\indices{^{b_q}_{j_q}} g\indices{^{i_1}_{a_1}} \dotsm g\indices{^{i_p}_{a_p}}f\indices{^{a_1\dots a_p}_{b_1\dots b_q}}\) for some \emph{weight} \(\omega \in \mathbb{Z}.\) Then the associated bundle \bundle{LM_F}{\pi_F}{M} is called the \emph{\((p,q)\)-tensor \(\omega\)-density bundle over \(M\).}
\end{definition}
\begin{remark}
    \begin{enumerate}[label=(\alph*)]
        \item A special case when \(F = \mathbb{R}\) and the action is simply
            \begin{align*}
                \lact : \mathrm{GL}(\mathbb{R}^n) \times \mathbb{R} &\to \mathbb{R}\\
                                                              (g,f) &\mapsto (\det g^{-1})^\omega f,
            \end{align*}
            called the \emph{scalar \(\omega\)-density bundle over \(M\)}.
        \item If \(\omega = 0\) we recover the example (b) above, which is isomorphic to \((p,q)\)-tensor bundles.
        \item When the group has a constraint \(\det g = 1,\) tensor density bundles are indistinguishable to tensor bundles. This is the case, for example, in Special Relativity where one considers the Lorentz group, which is an orthogonal group with respect to the Minkowski pseudo-inner product.
    \end{enumerate}
\end{remark}

\begin{definition}{Associated bundle morphism}{associated_bundle_morphism}
    Let \bundle{P}{\pi}{M} and \bundle{P'}{\pi'}{M'} be two principal \(G\)-bundles with right actions \(\ract : P \times G \to P\) and \(\ractalt : P' \times G \to P'\) and let the smooth manifold \(F\) be a left \(G\)-space, where we may consider the associated bundles \bundle{P_F}{\pi_F}{M} and \bundle{P'_F}{\pi'_F}{M'} with the same typical fiber \(F\). An \emph{associated bundle map} \((\tilde{u}, \tilde{h})\) is a bundle map
    \begin{equation*}
        \begin{tikzcd}[column sep = normal, row sep = large]
            P_F \arrow{r}{\tilde{u}} \arrow[swap]{d}{\pi_F} & P'_F \arrow{d}{\pi'_F}\\
            M \arrow{r}{\tilde{h}} & M'
        \end{tikzcd}
    \end{equation*}
    which is induced by principal bundle map \((u, h)\) between the underlying principal bundles
    \begin{equation*}
        \begin{tikzcd}[column sep = normal, row sep = large]
            P \arrow{r}{u} & P'\\
            P \arrow{u}{\ract G} \arrow{r}{u} \arrow[swap]{d}{\pi} & P' \arrow[swap]{u}{\ractalt G} \arrow{d}{\pi'}\\
            M \arrow{r}{h} & M'
        \end{tikzcd}
    \end{equation*}
    as \(\tilde{u}([p,f]) = [u(p), f]\) and \(\tilde{h}(m) = h(m)\), for all \(p \in P\), \(f \in F\), and \(m \in M\).
\end{definition}
\begin{remark}
    Two \(F\)-fiber bundles may be isomorphic as bundles but may at the same time fail to be isomorphic as associated bundles.
\end{remark}

\begin{definition}{Trivial associated bundle}{trivial_associated_bundle}
    An associated bundle is \emph{trivial} if the underlying principal bundle is trivial.
\end{definition}

\begin{theorem}{Trivial associated bundle is a trivial fiber bundle}{trivial_associated_bundle}
    Let \bundle{P}{\pi}{M} be a principal \(G\)-bundle with right action \(\ract : P \times G \to P\) and let the smooth manifold \(F\) be a left \(G\)-space. If the principal bundle \bundle{P}{\pi}{M} is a trivial principal bundle, then the trivial associated bundle \bundle{P_F}{\pi_F}{M} is a trivial fiber bundle.
\end{theorem}
\begin{proof}
    Recall a \(F\)-fiber bundle \bundle{E}{\pi}{M} is trivial if there exists a bundle isomorphism \((\tilde{u}, \id{M})\) to the bundle \bundle{M \times F}{\pi_1}{M}
\begin{equation*}
    \begin{tikzcd}[column sep = normal, row sep = large]
        F \arrow{r}{} & E \arrow[swap]{d}{\pi} \arrow{r}{\tilde{u}} & M \times F \arrow{d}{\pi_1}\\
                      & M \arrow{r}{\id{M}} & M
    \end{tikzcd}
\end{equation*}
and a principal \(G\)-bundle \bundle{P}{\pi}{M} is trivial if there is a principal bundle morphism \((u, \id{M})\) to the principal \(G\)-bundle \bundle{M\times G}{\pi_1}{M}.
\begin{equation*}
    \begin{tikzcd}[column sep = normal, row sep = large]
        P \arrow{r}{u} & M \times G\\
        P \arrow{u}{\ract G} \arrow{r}{u} \arrow[swap]{d}{\pi} & M\times G \arrow[swap]{u}{\ractalt G} \arrow{d}{\pi_1}\\
        M \arrow{r}{\id{M}} & M
    \end{tikzcd}
\end{equation*}

\todo[relate the trivial fiber bundle to the trivial principal bundle?]
\end{proof}

\begin{theorem}{Equivalence of local sections and equivariant fiber-valued maps}{sections_equivariant}
    Let the smooth manifold \(F\) be a left \(G\)-space, and let \bundle{P_F}{\pi_F}{M} be the associated bundle with typical fiber \(F\) to the principal \(G\)-bundle \bundle{P}{\pi}{M}. Let \((U,x) \in \mathscr{A}_M\) be a chart on the base space \(M\). The space of local sections on the associated bundle \(\sigma : U \to P_F\) is isomorphic to the space of local \(G\)-equivariant \(F\)-valued maps on the principal bundle \(h : \preim{\pi}{U} \to F\), that is, \(h\) is \(G\)-equivariant in the sense that
    \begin{equation*}
        h(p \ract g) = g^{-1} \lact h(p),
    \end{equation*}
    for all \(p \in \preim{\pi}{U}\) and \(g \in G\).
\end{theorem}
\begin{proof}
    Let \(h : \preim{\pi}{U} \to F\) be \(G\)-equivariant. We construct the map
    \begin{align*}
        \sigma_h : U &\to P_F\\
                      m &\mapsto [p_m, h(p_m)],
    \end{align*}
    where \(p_m \in \preim{\pi}{\set{m}}\) is an arbitrary point in the fiber. Let \(q_m \in \preim{\pi}{\set{m}}\) be another point in the same fiber, then there exists \(g \in G\) such that \(q_m = p_m \ract g\), then
    \begin{align*}
        [q_m, h(q_m)] &= [p_m \ract g, h(p_m \ract g)]\\
                         &= [p_m \ract g, g^{-1} \lact h(p_m)]\\
                         &= \sigma_h(m),
    \end{align*}
    that is, \(\sigma_h\) is well defined due to the \(G\)-equivariance of \(h\). Moreover,
    \begin{equation*}
        \pi_F \circ \sigma (m) = \pi(p_m) = m,
    \end{equation*}
    for all \(m \in U\), that is, \(\pi_F \circ \sigma = \id{U}\). Hence, for every \(G\)-equivariant local map \(h\) in the principal bundle, there exists a local section \(\sigma_h\) in the associated bundle.

    Let \(\sigma : U \to P_F\) be a local section on the associated bundle. Recall from \cref{prop:associated_fiber} that for each \(p \in \preim{\pi}{U}\) there is an isomorphism from the typical fiber \(F\) to the fiber in the associated bundle of the base point \(\pi(p)\) defined by
    \begin{align*}
        \phi_p : F &\to \preim{\pi_F}{\set{\pi(p)}}\\
                 f &\mapsto [p, f]
    \end{align*}
    with inverse
    \begin{align*}
        \phi_p^{-1} : \preim{\pi_F}{\set{\pi(p)}} &\to F\\
                                            [q,f] &\mapsto (\psi_{p}(q))^{-1} \lact f,
    \end{align*}
    where \(\psi_p : P \to G\) is the diffeomorphism such that \(q \ract \psi_p(q) = p\). Notice that
    \begin{align*}
        \phi_p(f) &= [p,f]\\
                    &= [p\ract g, g^{-1}\lact f]\\
                    &= \phi_{p\ract g}(g^{-1} \lact f)
    \end{align*}
    for all \(g \in G\). We define the map
    \begin{align*}
        h_\sigma : \preim{\pi}{U} &\to F\\
                                p &\mapsto (\phi_p^{-1} \circ \sigma \circ \pi) (p).
    \end{align*}
    Then, for all \(p \in \preim{\pi}{U}\) and \(g \in G\),
    \begin{align*}
        h_{\sigma}(p \ract g) &= (\phi_{p\ract g}^{-1}\circ\sigma)(\pi(p \ract g))\\
                              &= (\phi_{p \ract g}^{-1} \circ \sigma)(\pi(p))\\
                              &= (\phi_{p\ract g}^{-1} \circ \phi_p \circ \phi_p^{-1} \circ \sigma \circ \pi)(p)\\
                              &= (\phi_{p\ract g}^{-1} \circ \phi_p)(h_\sigma(p))\\
                              &= \phi_{p\ract g}^{-1} \circ \phi_{p \ract g}(g^{-1} \lact h_\sigma(p))\\
                              &= g^{-1} \lact h_\sigma(p),
    \end{align*}
    that is, \(h_\sigma\) is a \(G\)-equivariant map. Thus, for every local section on the associated bundle, there exists a \(G\)-equivariant local map in the principal bundle.

    In fact, these constructions are the mutually inverses. Indeed, let \(\sigma, h, \sigma_h\) and \(h_\sigma\) be the same as above and consider \(\sigma_{h_\sigma}\), the local section constructed from the equivariant map \(h_\sigma\), and \(h_{\sigma_h}\), the equivariant map constructed from the local section \(\sigma_h\). For all \(m \in U\),
    \begin{align*}
        \sigma_{h_\sigma}(m) &= [p_m, h_\sigma(p_m)]\\
                             &= [p_m, (\phi_{p_m}^{-1} \circ \sigma \circ \pi)(p_m)]\\
                             &= (\phi_{p_m} \circ \phi_{p_m}^{-1} \circ \sigma \circ \pi)(p_m)\\
                             &= (\sigma \circ \pi)(p_m)\\
                             &= \sigma(m),
    \end{align*}
    hence \(\sigma_{h_\sigma} = \sigma\). For all \(p \in \preim{\pi}{U}\),
    \begin{align*}
        h_{\sigma_h}(p) &= (\phi_p^{-1} \circ \sigma_h \circ \pi)(p)\\
                        &= \phi_p^{-1} ([p, h(p)])\\
                        &= (\phi_p^{-1} \circ \phi_p \circ h)(p)\\
                        &= h(p),
    \end{align*}
    hence \(h_{\sigma_h} = h\). We have thus established an isomorphism from local sections in the associated bundle to \(G\)-equivariant local maps in the principal bundle.
\end{proof}
